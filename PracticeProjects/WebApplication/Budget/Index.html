<!DOCTYPE html>
<html>
    <head>
        <title>Team Budget Calculator</title>
        <link rel="stylesheet" type="text/css" href="Assignment42.css">
    </head>

    <body>
        <h1>Team Budget Calculator</h1>
        <div id="root">
            <label>Enter the number of expenses:</label>
            <input type="number" id="numExpenses" min="1">
            <button onclick="createExpenseFields()">Create Expense Fields</button>
            
            <div id="expenseFields"></div>

            <button onclick="calculateTotalExpense()">Calculate Total Expense</button>
            <div id="totalExpense"></div>
        </div>

        <script>
            document.getElementById('calculateTotalBtn').addEventListener('click', function() {
                const expensePrices = document.querySelectorAll('input[type="number"]');
                let totalExpense = 0;

                for (let i = 0; i < expensePrices.length; i++) {
                    const expensePrice = parseFloat(expensePrices[i].value) || 0;
                    totalExpense += expensePrice;
                }

                const roundedTotal = Math.round(totalExpense);
                document.getElementById('totalExpense').textContent = roundedTotal;
            });

            function createExpenseFields() {
                var numExpenses = parseInt(document.getElementById("numExpenses").value);
                var expenseFieldsDiv = document.getElementById("expenseFields");
                expenseFieldsDiv.innerHTML = "";

                for (var i = 0; i < numExpenses; i++) {
                    var nameLabel = document.createElement("label");
                    nameLabel.innerText = `Expense ${i + 1} Name:`;
                    var nameField = document.createElement("input");
                    nameField.type = "text";
                    nameField.placeholder = "Expense Name";
                    expenseFieldsDiv.appendChild(nameLabel);
                    expenseFieldsDiv.appendChild(nameField);

                    var amountLabel = document.createElement("label");
                    amountLabel.innerText = `Expense ${i + 1} Amount:`;
                    var amountField = document.createElement("input");
                    amountField.type = "number";
                    amountField.placeholder = "Expense Amount";
                    expenseFieldsDiv.appendChild(amountLabel);
                    expenseFieldsDiv.appendChild(amountField);
                }
            }

            function calculateTotalExpense() {
                var expenseFields = document.getElementById("expenseFields").querySelectorAll("input");
                var totalExpense = 0;

                for (var i = 0; i < expenseFields.length; i++) {
                    var expenseValue = parseInt(expenseFields[i].value);
                    if (!isNaN(expenseValue)) {
                        totalExpense += expenseValue;
                    }
                }

                document.getElementById("totalExpense").innerHTML = "Annual Budget: " + totalExpense;
            }
        </script>
    </body>
</html>